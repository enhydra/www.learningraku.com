<!--
title: Index 9
link: http://www.learningraku.com/index_9.html
author: brian
date: 2023-03-02 1:50:44
post_name: main 9
status: publish
type: list
categories:
tags:
-->

<html>

<head>
	<base href="https://test.learningraku.com/">
	<title>Index 9</title>
	<link rel="stylesheet" href="/style.css">
	<meta name="generator" content="brian's site generator" />
	<meta charset="UTF-8" />
</head>


<!-- start middle_main_page -->
<div id="middle">

<!-- start sidebar -->
<div id="sidebar">
	<img id="small_cover" src="images/cover.png" width="180" height="236" />

	<div id="sponsors">
		<iframe src="https://github.com/sponsors/briandfoy/button" title="Sponsor briandfoy" height="35" width="116" style="border: 0;"></iframe>
	</div>

	<div class="textwidget"><p><a href="https://www.oreilly.com/catalog/errata.csp?isbn=0636920062776">Book errata</a><br />
		<a href="https://goo.gl/EbA7gF">Google Books preview</a><br />
		<a href="http://shop.oreilly.com/product/0636920062776.do">O&#8217;Reilly Media listing</a><br />
		<a href="https://amzn.to/3E0JQxK">Amazon.com</a></p>
		<hr />
		<p><i>Many resources have not changed the name from Perl 6 to Raku, so these resources may use either.</i></p>
		<p><a href="https://design.raku.org">Raku Design Docs (dated)</a><br />
		<a href="http://docs.raku.org">Raku Docs</a><br />
		<a href="https://learnxinyminutes.com/docs/raku/">Learn Raku in Y Minutes</a><br />
		<a href="https://modules.raku.org">Raku modules</a><br />
		<a href="https://rosettacode.org/wiki/Category:Raku">Rosetta Code examples</a><br />
		<a href="http://examples.perl6.org/categories/euler.html">Project Euler examples</a><br />
		<a href="http://examples.perl6.org">Perl 6 Examples</a><br />
		<a href="https://github.com/Raku/roast">Raku Roast (test suite examples)</a></p>
	</div>
</div>
<!-- end sidebar -->

<!-- start excerpt_list -->
<div id="content">


    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2017/01/03/search-the-perl-6-repos-with-etsys-hound/">Search the Perl 6 repos with Etsy's Hound</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">January 03, 2017</span>
</div>

		<div class="excerpt">





<div class="image center">
<div>
<img height="375" src="https://c5.staticflickr.com/3/2135/2130638404_84c86b7421.jpg" style="margin-left:auto;margin-right: auto;border=0;" width="500">
<p><a href="https://www.flickr.com/photos/estro/2130638404/in/photolist-4fh5yU-4pLHQm-7twak7-4oxJAp-5h8irh-9oLE2R-7dQjxW-qjC7PD-4fd6Qk-4rnfnT-dFG2gm-4XwGbT-7X3gZx-nLrwqL-pqtnLg-5TN4uu-J7g8U-4szusX-9AoQfP-4RZQvi-qznvt2-8ikYRU-84dnnC-67u5aW-71XbMG-EGZvVg-4QSXQr-qpjiqS-3yTHwC-6AUnqD-7REW8b-49We4b-nugBMy-5j2Z3t-4u8LAj-88hh5t-mAn8bb-67u5Fh-bE8inF-bMQ27c-o4GKCN-9mkmaR-jwf4dB-9AmJYf-4rnd1k-ef42Vy-nAccQ2-qfNq8X-pjzKdR-Hr2Qwd">Hound photo</a> by <a href="https://www.flickr.com/photos/estro/">Jen on Flickr</a></p>
</div>
</div>

I&#39;m working on <a href="https://www.learningperl6.org">Learning Perl 6</a> and I spend a lot of my time going between repos to suss out various things. Etsy&#39;s <a href="https://github.com/etsy/hound">Hound</a> is a tool that makes that easier, and I&#39;ve made a <a href="https://github.com/briandfoy/perl6-hound">GitHub project with my setup</a>.

<!--more-->

<a href="http://www.perl6.org">Perl 6</a> development is spread over several repositories. That&#39;s a consequence that there&#39;s no <i>a priori</i> preferred implementation, and that&#39;s on purpose.

Anything that passes the <a href="https://github.com/perl6/roast">roast tests</a> is Perl 6. That has its own repo. <a href="https://github.com/rakudo/rakudo">Rakudo</a> is one such implementation. It has its own repo.

But, Perl 6 is largely written in Perl 6. There&#39;s a smaller version of the language, <a href="https://github.com/perl6/nqp">NQP</a> for <b>N</b>ot <b>Q</b>uite <b>P</b>erl6, that targets the virtual machines. A smaller feature set makes it easier to implement new virtual targets and that should encourage more backends. NQP has its own repo.

And the <a href="https://github.com/perl6/doc">docs</a> have their own directory too.

That means it&#39;s not quite as simple as grepping (acking, whatever) a repository. These are separate projects that I&#39;d have to keep separately updated.

Etsy released a tool they call <a href="https://github.com/etsy/hound">hound</a>, written in <a href="https://golang.org">Go</a>. They have instructions, but here&#39;s a summary:

<ul>
<li><a href="https://golang.org/dl/">Install Go 1.3+</a>. I used a binary package.
</li><li>Run <code>go get github.com/etsy/hound/cmds/...</code>
</li><li>Create a directory for <i>houndd</i> to do its work
</li><li>Create your <a href="https://github.com/briandfoy/perl6-hound/blob/master/config.json">config.json</a> to list the repos in that directory
</li><li>Run <code>$GOPATH/bin/houndd</code> in that directory
</li><li>Go to <a href="http://localhost:6080">http://localhost:6080</a>
</li></ul>

I&#39;ve also built most of this into the <a href="https://github.com/briandfoy/perl6-hound/blob/master/Makefile">Makefile</a>. Use the *run* target to get it going:

<pre class="brush:plain">
$ make run
</pre>



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2017/01/03/search-the-perl-6-repos-with-etsys-hound/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2017/01/03/collating-my-activity-to-learningperl6/">Collating my activity to @LearningPerl6</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">January 03, 2017</span>
</div>

		<div class="excerpt">





I&#39;ve already told you about the <a href="/2016/12/19/a-dedicated-learningperl6-twitter-account/">@LearningPerl6</a> twitter account, and I spent today setting up some stuff to collect what I&#39;m doing elsewhere. I&#39;m using <a href="http://dlvr.it">Dlvr.it</a> to put the interesting things on Twitter. This way you can see what I&#39;m working on and what I&#39;m thinking about. <!--more-->

<ul>
<li>a feed of <a href="http://stackoverflow.com/search?q=user%3A2766176+%5Bperl6%5D">my StackOverflow Perl 6 questions</a>
</li><li>a feed of the tickets I add to the <a href="https://rt.perl.org/Public/">perl6 RT queue</a>
</li></ul>

<h3>StackOverflow</h3>

There&#39;s a <a href="https://api.stackexchange.com">StackExchange API</a>. I can get a feed of a particular user&#39;s questions, and from that, get the question text with another query. It&#39;s not so bad; you can see it in my <a href="https://gist.github.com/briandfoy/4b4025b8026e4eee26c11811ba1a7efe">stackfeed gist</a>. It&#39;s a bit hacky (and, Perl 5), but I started with something else I had. I watched as what I thought were some simple modules start to install a bunch of things I didn&#39;t need, so I switched to making XML by hand. Yeah, I did that. You&#39;ll have to excuse the flurry of tweets that showed up because I neglected to tell the feed processor to handle only the most recent so it did all of them. Oops.

If you don&#39;t want this one from Twitter, I also have it as a <a href="https://www.learningperl6.com/downloads/stackoverflow-questions.xml">regular Atom feed through this site.</a>. I&#39;ll probably mess with it a bit more, but there it is.

<h3>The Perl 6 RT queue</h3>

The RT queue is a bit trickier since you can&#39;t get a feed out of <a href="https://rt.perl.org/Public/">the public interface</a>. I can log in, do a search, then find my secret feed URL in the upper right:

<div class="center image">
<div>
<img height="260" src="/images/rt-search-feeds.png" width="500">
<p>You only get the Feeds menu while logged in</p>
</div>
</div>

Since this is supposed to be a secret URL, I&#39;m not supposed to give it to the public. I can give it to Dlvr.it and let it post to @LearningPerl6 though.

If you have an RT account, you can create your own search, grab the feed for that, and add it to your own aggregator.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2017/01/03/collating-my-activity-to-learningperl6/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/12/30/indir-changes-the-directory-just-for-its-block/">indir() changes the directory just for its block</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">December 30, 2016</span>
</div>

		<div class="excerpt">





<i>Update for April 2017: <code>indir</code> is now a <a href="https://docs.perl6.org/routine/indir">documented part of the language</a>.</i>

How many times have I wanted to change the current working directory for just one block? It&#39;s usually such a pain because I have to remember to change it back. <!--more-->

In Perl 6, the <code>indir</code> routine does this for me:

<pre class="brush:plain">
indir $some_dir, {
    ...; # do stuff in that directory
    }
</pre>

The current working directory is changed just for that block of code. When that block is done, the value is back to whatever it was before. That this is built into the language is quite pleasing to me (and the dependency-adverse contexts I tend to work in). There&#39;s no variable to mess with (in Perl 6 that would be <code>$*CWD</code>, which has some issues at the moment) and it reads nicely as a sentence.

This isn&#39;t documented yet (it only shows up in <a href="https://raw.githubusercontent.com/perl6/specs/master/S16-io.pod">Synopsis 16</a>, last changed 10 years ago, and was <a href="https://github.com/rakudo/rakudo/blob/beec02a6fa69e3ac290b4dd24c07d87a9f248b13/docs/announce/2014.10.md">announced as part of 2014.10</a>), but it&#39;s in there and it mostly works. At the moment (Rakudo 2016.11) it only works when the target directory is readable <i>and</i> writeable, but I&#39;ve filed <a href="https://rt.perl.org/Ticket/Display.html?id=130460">RT #130460</a> about that. And, I&#39;ve filed <a href="https://github.com/perl6/doc/issues/1091">GitHub #1091</a> about the lack of documentation (which depends on someone declaring what it should actually do). Since it&#39;s untested and undocumented, that means it might change or disappear. Consider that before you get too excited. But, how can you not get excited about something that makes common things really easy?

I feel a little bad that I&#39;m not stopping to fully investigate these corner cases, but if I did that I&#39;d never get any writing done for <i>Learning Perl 6</i>! Maybe someone else has the time to make this bit of Perl 6 tested and documented.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/12/30/indir-changes-the-directory-just-for-its-block/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/12/25/strip-leading-spaces-from-here-docs/">Strip leading spaces from here-docs</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">December 25, 2016</span>
</div>

		<div class="excerpt">





<a href="https://www.effectiveperlprogramming.com/2016/12/strip-leading-spaces-from-here-docs-with-v5-26/">Perl v5.26 steals Perl 6&#39;s feature to strip leading whitespace from here-docs</a>. I wrote about that for The Effective Perler, but here&#39;s the same thing for <a href="https://docs.perl6.org/language/quoting#Heredocs:_:to">Perl 6 here-docs</a>. As with most things, the Perl 5 feature is slightly different. <!--more-->

Before v5.26, you had to start your here-doc lines at the beginning of the line. This doesn&#39;t line up with the indention, which some people find annoying:

<pre class="brush:plain">
use v5;

sub say_something {
	my $string =&lt;&lt;&#39;HERE&#39;;
This line is not indented
Neither is this line
And the delimiter is not indented
HERE

	print $string;
	}

say_something();
</pre>

Perl 6 already strips leading whitespace from the lines inside a here-doc. It

<pre class="brush:plain">
use v6;

sub say_something {
	my $string = q:to/HERE/;
		This line is not indented
			But this line is indented
		And the delimiter is not indented
		HERE

	print $string;
	}

say_something();
</pre>

The whitespace before the final delimiter is stripped from each line in the string:

<pre class="brush:plain">
This line is not indented
	But this line is indented
And the delimiter is not indented
</pre>

This still works if you don&#39;t have the same whitespace before each line:

<pre class="brush:plain">
use v6;

sub say_something {
	my $string = q:to/HERE/;
		This line is not indented
			But this line is indented
And the delimiter is not indented
		HERE

	print $string;
	}

say_something();
</pre>

It works, but you get a warning (in Perl 5 this would be a compilation error). In my code I had two tabs; apparently it translates that into eight spaces:

<pre class="brush:plain">
This line is not indented
	But this line is indented
And the delimiter is not indented
Asked to remove 16 spaces, but the shortest indent is 0 spaces
  in any trim_heredoc at gen/moar/m-Perl6-Actions.nqp line 499
</pre>

It tries to strip as much whitespace as it can (up to the amount in front of the delimiter). Since it considers a tab as eight spaces, the amount of space it strips might make the string look different than your typing. This version has a mix of spaces and tabs (although something might translate this example before you get it):

<pre class="brush:plain">
use v6;

sub say_something {
	my $string = q:to/HERE/;
		This line has two tabs
			This line has three tabs
                But this one has 16 spaces
		HERE

	print $string;
	}

say_something();
</pre>

Allow it looks like the last line is indented more, when it converts tabs to eight spaces, the third line isn&#39;t indented at all:

<pre class="brush:plain">
This line has two tabs
	This line has three tabs
But this one has 16 spaces
</pre>

But, a tab isn&#39;t just eight spaces. It&#39;s the number of spaces to get to the next multiple of 8. The last line of this here-doc mixes tabs and spaces:

<pre class="brush:plain">
use v6;

sub say_something {
	my $string = q:to/HERE/;
		This line has two tabs
			This line has three tabs
    	    But this one has 4 spaces, a tab, and 4 spaces
		HERE

	print $string;
	}

say_something();
</pre>

You get a warning. This time it thinks there are 12 spaces in the last line:

<pre class="brush:plain">
This line has two tabs
	This line has three tabs
But this one has 4 spaces, a tab, and 4 spaces
Asked to remove 16 spaces, but the shortest indent is 12 spaces
  in any trim_heredoc at gen/moar/m-Perl6-Actions.nqp line 499
</pre>

It&#39;s the same thing with more leading spaces:

<pre class="brush:plain">
use v6;

sub say_something {
	my $string = q:to/HERE/;
		This line has two tabs
			This line has three tabs
       	    But this one has 7 spaces, a tab, and 4 spaces
		HERE

	print $string;
	}

say_something();
</pre>

So, be careful how you specify those leading spaces (and how you accept patches and so on).




		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/12/25/strip-leading-spaces-from-here-docs/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/12/19/a-dedicated-learningperl6-twitter-account/">A dedicated LearningPerl6 Twitter account</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">December 19, 2016</span>
</div>

		<div class="excerpt">





If you only want my Perl 6 messages, I&#39;ve created a new <a href="https://twitter.com/LearningPerl6">@LearningPerl6</a> Twitter account. Like my other <a href="https://twitter.com/briandfoy_perl">@briandfoy_perl</a> is mostly just Perl with some things that Perl people might like, this one will be even more restricted. If you like feeds, this blog can do that. You&#39;ll get the same articles on Twitter (through <a href="https://dlvrit.com">dlvr.it</a>), as well as other interesting things I might run across. <!--more-->

<div class="center image">
<div>
<img src="/images/twitter_profile_pic_blog.png">
</div>
</div>

And, if there&#39;s another social media spot you&#39;d like to get notices, let me know about those. I&#39;ll see what I can do.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/12/19/a-dedicated-learningperl6-twitter-account/">Read more...</a></span>
</div> <!-- post -->






</div>
<!-- end excerpt_list -->

</div>
<!-- end middle_main_page -->

</html>

