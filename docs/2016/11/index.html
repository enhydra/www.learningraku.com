<html>

<head>
	<base href="https://test.learningraku.com/">
	<title>November 2016 - Learning Raku (formerly Perl 6)</title>
	<link rel="stylesheet" href="/style.css">
	<meta name="generator" content="brian's site generator" />
	<meta charset="UTF-8" />
</head>

<!-- start excerpt_list -->
<div id="content">


    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/16/quick-tip-1-user-defined-infinite-sequences/">Quick Tip 1: User-defined infinite sequences</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 16, 2016</span>
</div>

		<div class="excerpt">





Every day of the <a href="https://www.kickstarter.com/projects/1422827986/learning-perl-6">Learning Perl 6 Kickstarter campaign</a>, I&#39;ll present a <a href="/category/kickstarter-tips/">quick tip</a> about something I like in Perl 6. Let&#39;s start with sequences. <!--more-->

We have simple sequences, like one digit to another. Here&#39;s 0 to 9:

<pre class="brush:plain">
my $tenner := 0 ... 9;
</pre>

Notice a few things here. I&#39;ve used the <a href="https://docs.perl6.org/language/operators#infix_:=">infix binding operator, <code>:=</code></a>. It doesn&#39;t assign a value, it makes the lefthand side the same as the righthand side.

The <code>...</code> is the <a href="https://docs.perl6.org/language/operators#infix_...">sequence operator</a>, which we can use to produce <i>lazy</i> lists.

Lazy lists, you say? What if I wanted not just 0 to 9, but 0 to whatever number I felt like for as long as I wanted to run the program. I don&#39;t know what that number might be, so I won&#39;t specify it. I&#39;ll just call it &quot;whatever&quot; with the <code>*</code>:

<pre class="brush:plain">
my $infinite := 0 ... *;
</pre>

Perl 6 doesn&#39;t compute this sequence. It knows that it starts at zero and keeps going until it reaches the end. That <code>*</code> is literally a <a href="https://docs.perl6.org/type/Whatever">Whatever</a> object. When Perl 6 wants to know if it&#39;s at the end, <a href="https://docs.perl6.org/type/Whatever">Whatever</a> says no.

That could be a long, long list. But, the laziness takes care of that. Perl 6 doesn&#39;t evaluate the next item until it needs it. This loop will go on forever:

<pre class="brush:plain">
for $infinite -&gt; $next {
	say $next;
	}
</pre>

Big deal. We&#39;ve had infinite loops forever (does anyone know who made the first one?). We can do this with <code>loop</code>:

<pre class="brush:plain">
loop ( my $i = 0; ; $i++ ) {
	say $i;
	}
</pre>

But, a loop is just a loop. It sits there all by itself. However, we can pass around a sequence, we can store it. We can so many other things with it. We can put it in a hash and choose the one we need later:

<pre class="brush:plain">
my %hash;

%hash&lt;s&gt; := 7 ... 10;
%hash&lt;t&gt; := 0 ...  3;
%hash&lt;u&gt; := 137 ...  *;

show( %hash{ time %% 2 ?? &#39;t&#39; !! &#39;s&#39; } );

sub show ( $s ) {
	.say for |$s;
	}
</pre>

Yep, we just stored an infinite number of values in a single hash value. I&#39;ll have more on this in the next entry.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/16/quick-tip-1-user-defined-infinite-sequences/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/17/quick-tip-2-fancier-sequences/">Quick Tip #2: Fancier sequences</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 17, 2016</span>
</div>

		<div class="excerpt">





Every day of the <a href="https://www.kickstarter.com/projects/1422827986/learning-perl-6">Learning Perl 6 Kickstarter campaign</a>, I&#39;ll present a <a href="/category/kickstarter-tips/">quick tip</a> about something I like in Perl 6. Yesterday I posted <a href="/2016/11/16/quick-tip-1-user-defined-infinite-sequences/">User-defined infinite sequences</a>. In that post I only showed sequences of positive numbers. That&#39;s a bit boring. Let&#39;s make something fancier. <!--more-->

Let&#39;s start with one of the boring examples that every programming language likes to use. It&#39;s a bit not-safe-for-work. About 800 years ago, Fibonacci spent a lot of time thinking about what adult rabbits do with their free time. He didn&#39;t invent the problem, but he gets all the credit:

<pre class="brush:plain">
my $fibonacci := 1, 1, { $^a + $^b } ... *;
say &quot;Fibonacci: &quot; ~ $fibonacci[0..10];
</pre>

Here&#39;s the result:

<pre class="brush:plain">
Fibonacci: 1 1 2 3 5 8 13 21 34 55 89
</pre>

We can create an infinite, lazy sequence. (As a side not, doesn&#39;t that sound wrong? The order of adjectives in English is customarily quantity followed by opinion. Doesn&#39;t lazy, infinite lists sound better?)

But, what&#39;s going on with that sequence? I start off with two literals, the <code>1</code> and <code>1</code>. But, after that I have a <a href="https://docs.perl6.org/language/functions#Blocks_and_Lambdas">block</a>. When Perl 6 sees a block in the sequence, it uses it to compute the next element. And, I can do anything I like in that block.

But, what&#39;s going in the block? There&#39;s a <code>$^a</code> and a <code>$^b</code>. Perl 6 figures out that this block takes two arguments and grabs the previous two items from the sequence to fill those variables. The last evaluated expression in the block becomes the next value in the sequence. After that it starts all over. And, since I used the Whatever <code>*</code> at the end, the sequence goes on forever.

The Lucas Sequence is similar:

<pre class="brush:plain">
my $lucas := 2, 1, 3, { $^a + $^b } ... *;
say &quot;Lucas: &quot; ~ $lucas[0..10];
</pre>

Here&#39;s the result:

<pre class="brush:plain">
Lucas: 2 1 3 4 7 11 18 29 47 76 123
</pre>

Let&#39;s do something more interesting. There&#39;s a sequence of &quot;digit product&quot;. You take the number and split it up into individual decimal digits. Multiply all of those and add that product to the original number. That&#39;s the next number in the sequence. Here it is:

<pre class="brush:plain">
my $d := 1, { $^a + [*] $^a.comb } ... *;
say &quot;Digit product: &quot; ~ $d[0..10];
</pre>

Here&#39;s the result:

<pre class="brush:plain">
Digit product: 1 2 4 8 16 22 26 38 62 74 102
</pre>

There are a few interesting things in that block. First, I call the <code>comb</code> method to break the number up into digits. In front of that is the <code>[*]</code> <a href="https://docs.perl6.org/language/operators#Reduction_Operators">reduction operator</a>. It takes two elements from the succeeding list, performs the operation inside the square braces, and puts the result back on the list. It does this until there&#39;s a single element left. That gives me the product of the digits.

Once I have the product, I add it to the original number (still in <code>$^a</code>). Now I have the next item in the sequence.

Not fancy enough? How abou the &quot;speak and say&quot; sequence? Take a number, such as 1. Now, say the count of the like digits and the digit word. So, there is &quot;one 1&quot;. Translate that into digits, so <code>11</code>. Do it again. There&#39;s &quot;two 1s&quot;, or <code>21</code>, then, &quot;one 2 and one 1&quot;, so <code>1211</code>. Keep doing that until you get bored with it:

<pre class="brush:plain">
my $speak_and_say := 1, { .subst( /(<[0..9]>)$0*/, { .chars() ~ .[0] }, :g ) } ... *;
say &quot;Speak and say: &quot; ~ $speak_and_say[0..5];
</[0..9]></pre>

The result is:

<pre class="brush:plain">
Speak and say: 1 11 21 1211 111221 312211
</pre>



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/17/quick-tip-2-fancier-sequences/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/18/quick-tip-3-inclusive-and-exclusive/">Quick Tip #3: Inclusive and Exclusive</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 18, 2016</span>
</div>

		<div class="excerpt">





Every day of the <a href="https://www.kickstarter.com/projects/1422827986/learning-perl-6">Learning Perl 6 Kickstarter campaign</a>, I&#39;ll present a quick tip about something I like in Perl 6. Yesterday I posted <a href="/2016/11/17/quick-tip-2-fancier-sequences/">Fancier sequences</a>. In that post I only showed how you could use blocks to decide the next element in the sequence. <!--more-->

There&#39;s some other interesting syntax that sequences and ranges (and a few other things). You already know how to make the fancy sequences, so I won&#39;t distract you with that in this post. I&#39;ll use simple, boring sequences for this post.

By default, the <code>..</code> (<a href="https://docs.perl6.org/type/Range.html">Range</a>) and <code>...</code> (<a href="https://docs.perl6.org/type/Seq.html">Sequence</a>) operators include their end points. The range <code>0..9</code> includes the 0 and the 9. That&#39;s mostly what you want and mostly what you expect.

Rather than writing programs, let&#39;s look at these in the Perl 6 REPL. When you start <i>perl6</i> without arguments, you drop into the <i>perl6</i> shell:

<pre class="brush:plain">
$ perl6
To exit type &#39;exit&#39; or &#39;^D&#39;
&gt; 0 .. 9
0..9
</pre>

The REPL shows the result of what I entered. In this case, it shows me the sequence although it has not evaluated it yet.

The list or flat methods will turn it into, well, a list. I can also assign it to a listy thing:

<pre class="brush:plain">
&gt; (0..9).list
(0 1 2 3 4 5 6 7 8 9)
&gt; (0..9).flat
(0 1 2 3 4 5 6 7 8 9)
&gt; my @a = 0 .. 9;
[0 1 2 3 4 5 6 7 8 9]
</pre>

You should have line history already (if not, <a href="https://docs.perl6.org/language/faq.html#How_can_I_get_command_line_history_in_the_Perl_6_prompt_(REPL)?">See the FAQ</a>), so you can arrow up to change the previous command without re-typing everything.

I try it again by including a <code>^</code> before the end element. This makes the end <i>exclusive</i>. It excludes the element from the list:

<pre class="brush:plain">
(0..^9).flat
(0 1 2 3 4 5 6 7 8) 
</pre>

I can do the same on the other side to exclude the starting element:

<pre class="brush:plain">
&gt; (0^..9).flat
(1 2 3 4 5 6 7 8 9)
</pre>

Or I can do it on both sides:

<pre class="brush:plain">
&gt; (0^..^9).flat
(1 2 3 4 5 6 7 8)
</pre>

I can put spaces around the start or end elements:

<pre class="brush:plain">
&gt; (0 ^..^ 9).flat
(1 2 3 4 5 6 7 8)
</pre>

But not between the <code>^</code> and the <code>..</code>:

<pre class="brush:plain">
&gt; (0 ^.. ^9).flat
Range objects are not valid endpoints for Ranges
</pre>

The operators are actually <code><a href="https://docs.perl6.org/language/operators#infix_..">..</a></code>, <code><a href="https://docs.perl6.org/language/operators#infix_^..">^..</a></code>, <code><a href="https://docs.perl6.org/language/operators#infix_..^">..^</a></code>, or <code><a href="https://docs.perl6.org/language/operators#infix_^..^">^..^</a></code>.

I can use this to terminate the sequences as well. I already showed the infinite sequence. But, I can use a condition as the end point. When the condition is true, the sequence ends. In this case, it&#39;s just a numerical comparison:

<pre class="brush:plain">
&gt; ( 1 ... * &gt; 15 ).list
(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16)
</pre>

And, if I don&#39;t want to element that ends the sequence, I exclude it:

<pre class="brush:plain">
&gt; ( 1 ...^ * &gt; 15 ).list
(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15)
</pre>

I can have a block at the end, and I can exclude the value that makes the block true:

<pre class="brush:plain">
&gt; ( 1 ... -&gt; $a { $a &gt; 15 } ).list
(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16)
&gt; ( 1 ...^ -&gt; $a { $a &gt; 15 } ).list
(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15)
</pre>

But, the block can be anything that I like. I can terminate the sequence after a certain time passes:

<pre class="brush:plain">
&gt; ( 1 ... -&gt; $a { state $t = now; now &gt; $t + 0.01 } ).list
(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16)
&gt; ( 1 ... -&gt; $a { state $t = now; now &gt; $t + 0.02 } ).list
(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18)
&gt; ( 1 ... -&gt; $a { state $t = now; now &gt; $t + 0.06 } ).list
(1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 ...)
</pre>



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/18/quick-tip-3-inclusive-and-exclusive/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/19/quick-tip-4-the-hamming-sequence-and-hyper-operators/">Quick Tip #4: The Hamming Sequence and hyper-operators</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 19, 2016</span>
</div>

		<div class="excerpt">





The Hamming Sequence shows up in <a href="http://web.cecs.pdx.edu/~cs410aph/Lectures/Smalltalk%20II/Dijkstra%20on%20Hamming&#39;s%20Problem.pdf">programming exercises</a>. It&#39;s the sequence of numbers that have only 2, 3, or 5 as divisors. The trick is to generate them in ascending order. Dijkstra figured it out, but he cheated a bit by restraining his problem to the first 1,000 values. Some people have a pre-occupation with programs that finish. <!--more-->

Dijkstra figured this out. Remember the elements in the list. Keep a set of indices to remember which elements in the list already have their multiples in the list. To get the next element in the sequence, try the next multiple for each factor. Take the least one and add it to the list. Increment the indices for the factors that produced a value less than or equal to the value just added. That&#39;s the next index to try for that factor.

In Perl 6 (or many other langauges), a direct translation of that might look like this:

<pre class="brush:plain">
sub get_sequence { my $seq := 1, { dijkstra() } ... *  }

sub MAIN ( $number = 30 ) {
	my $seq = get_sequence;

	say $seq[^$number];
	}

sub dijkstra {
	state @h = <1>;
	state ( $i, $j, $k ) = <0 0>;

	@h.push( min( 2*@h[$i], 3*@h[$j], 5*@h[$k] ) );

	$i++ if 2*@h[$i] &lt;= @h[*-1];
	$j++ if 3*@h[$j] &lt;= @h[*-1];
	$k++ if 5*@h[$k] &lt;= @h[*-1];

	return @h[*-1];
	}
</0></1></pre>

I wrote about lazy sequences in <a href="/2016/11/16/quick-tip-1-user-defined-infinite-sequences/">User-defined infinite sequences</a> and the <code>MAIN</code> in <a href="/2016/01/10/perl-6-modulinos-are-even-easier/">Perl 6 modulinos are even easier</a>. The <code>*-1</code> in the <code>@h</code> subscript gets me the last element. Perl 6 doesn&#39;t count backward, but a <code>*</code> (the <a href="https://docs.perl6.org/type/Whatever">Whatever</a> thingy) in the subscript gets the number of elements in the array. From that I subtract 1 to get the last index.

But, I can do better. First, that example hard-coded the 2, 3, and 5. There are other &quot;smooth numbers&quot; that factor only into powers of small prime numbers.

So, I&#39;ll put the factors into their own array. Later I can convert that to a configurable parameter. I might want different factors, or a different number of factors.

<pre class="brush:plain">
sub dijkstra {
	state @h       = <1>;
	state @factors = <2 3 5>;
	state @indices = <0> xx @factors;

	@h.push( min( @h[ @indices ] &lt;<*>&gt; @factors ) );

	...;

	return @h;
	}
</*></0></2></1></pre>

So, I&#39;ll create an array of indices that has the same length of factors. The <a href="https://docs.perl6.org/language/operators#infix_xx">list replication</a>, <code>xx</code> does that for me. The array <code>@factors</code>, in numeric context, is the number of elements.

Then I use one of my favorite features of Perl, the hyper-operator. Let me break out that bit from the code:

<pre class="brush:plain">
@h[ @indices ] &lt;<*>&gt; @factors
</*></pre>

In the first example, I needed to multiply individual elements in <code>@h</code> with a list of factors (even though I hard-coded them). That&#39;s what the <a href="https://docs.perl6.org/language/operators#Hyper_Operators">hyper-operators</a> do. It applies the operator between the angle brackets to corresponding elements of each list. In this case, it multiplies the first elements of each list, then the second, and so on. The grand result of is the list of results. I can put just about any operator in there that I like (and in a moment I&#39;ll do something fancy with that).

In this case, I&#39;ve used <code>@indices</code> to create an array slice of the elements in <code>@h</code> that still need a multiple. I hyper-multiply that with
<code>@factors</code>. It&#39;s the same thing as this line from the first example:

<pre class="brush:perl">
( 2*@h[$i], 3*@h[$j], 5*@h[$k] )
</pre>


But, this stuff won&#39;t work with the next bit because I got rid of the  <code>$i</code>, <code>$j</code>, and <code>$k</code> variables. Those values are now in the <code>@indices</code>. so I&#39;ve used the <code>...</code> <a href="https://docs.perl6.org/language/operators#listop_...">stub operator</a> (or, the &quot;yada yada&quot;). That compiles, but Perl 6 dies when it executes it. I use it as a placeholder for work I still need to do.

Let&#39;s build up the next part. I need to increment the indices for the factors that produce sequence elements that are the same or less than the last value I stored in <code>@h</code>. In the first example I had three lines of code with repeated structure.

First, I need to figure out which indices I want to increment. Those are the ones where element in @h at that index is less than or equal to the last element in @h. Remember, some multiples will overlap when they have common factors. The number 10 is in the sequence because 5 is in the sequence and 5*2 is 10. But, it&#39;s also in the sequence because 2 is in the sequence and 2*5 is 10.

I can use the same code I just used to get the products:

<pre class="brush:perl">
( @h[ @indices ] &lt;<*>&gt; @factors )
</*></pre>

Now, I need to know which of those products are less than the last element of @h. I can use the hyper-operator again, but this time with
the <code>&lt;=</code> comparator:

<pre class="brush:perl">
( @h[ @indices ] «*» @factors ) «&lt;=» @h[*-1]
</pre>

But, I had to do something else here. When I put the <code>&lt;=</code> between the ASCII angle brackets, all sorts of parser confusion ensues. But, Perl 6 has a way around this by using fancy Unicode characters. The « and » characters do the same job, and since they aren&#39;t the ASCII version, the parser doesn&#39;t have a chance to confuse which angle brackets belong to what. Perl 6 calls the ASCII versions <a href="https://docs.perl6.org/language/unicode_texas">&quot;Texas-style&quot;</a>. For the non-Americans, Texas is a state in the U.S. that thinks they are the biggest. They&#39;re okay. They invented <a href="ninfas on navigator">fajitas</a>, Tex-Mex, and <a href="https://franklinbarbecue.com/menu/">Franklin BBQ</a>, so they can say that. The ASCII quotes are bigger, so <a href="http://code.activestate.com/lists/perl6-language/27015/">Larry calls them &quot;Texas&quot;</a>. You may know about &quot;Jersey barriers&quot; used to divide roads, but there are larger versions called &quot;Texas barriers&quot; as well as the largest version called Alaska Barriers. Don&#39;t tell Damian Conway or he might come up with even larger quoting mechanisms! But back to Perl 6.

The result of those two hyper-operators is a list of True and False values. The position of the Boolean value indicates whether I should increment the index in the same position. Now that I&#39;m that far, I can use a third hyper, this time with binary addition, to numerically add that list of Boolean values to <code>@indices</code>:

<pre class="brush:plain">
@indices «+=» ( ( @h[ @indices ] «*» @factors ) «&lt;=» @h[*-1] )
</pre>

Putting that together, I have something with no <code>if</code> statements:

<pre class="brush:plain">
sub dijkstra () {
	state @h       = <1>;   # and so could this!
	state @factors = <2 3 5>; # this could be a parameter
	state @indices = <0> xx @factors;

	# add the next least multiple. This is the next number
	# in the sequence.
	@h.push( min( @h[ @indices ] «*» @factors ) );

	# Adjust the indices for the factor that were in the next number
	# more than one of these can be true!
	# For instance, 10 is both 5 * 2 and 2 * 5.
	@indices «+=» ( ( @h[ @indices ] «*» @factors ) «&lt;=» @h[*-1] );

	@h[*-1];
	}
</0></2></1></pre>

This generates the next value in the Hamming sequence. But, I&#39;m not done yet. The @h array holds the entire sequence even after I don&#39;t need some of the elements. I should get rid of those. Once all the indices are at least 1, I don&#39;t need the zeroth element anymore. I should get rid of it:

<pre class="brush:plain">
sub dijkstra () {
	state @h       = <1>;   # and so could this!
	state @factors = <2 3 5>; # this could be a parameter
	state @indices = <0> xx @factors;

	# add the next least multiple. This is the next number
	# in the sequence.
	@h.push( min( @h[ @indices ] «*» @factors ) );

	# Adjust the indices for the factor that were in the next number
	# more than one of these can be true!
	# For instance, 10 is both 5 * 2 and 2 * 5.
	@indices «+=» ( ( @h[ @indices ] «*» @factors ) «<=» # ) ); 1, 1. @factors @h[*-1] @h[0] @indices adjust all( already and any be don't element elements has if in index indices is least more multiples need number of remove sequence should the we> 0 {
		@h.shift;
		@indices&gt;&gt;--;
		}

	@h[*-1];
	}
</=»></0></2></1></pre>

In the last bit of code, I just the <code>all</code> <a href="https://docs.perl6.org/type/Junction">Junction</a> to check  that every index is greater than 0. If so, I take the first element off <code>@h</code>. But, when I do that, I need to adjust all of the indices down one. The hyper-operators work for unary operators (such as the <a href="https://docs.perl6.org/language/operators#postfix_--">auto-decrement</a> <code>--</code>). This time there&#39;s one set of quotey things, with the alligator mouth toward the list thingy.

<iframe allowfullscreen frameborder="0" height="315" src="https://www.youtube.com/embed/M6Efzu2slaI" width="560"></iframe>



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/19/quick-tip-4-the-hamming-sequence-and-hyper-operators/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/20/the-z-zip-operator-lazy-ranges-and-terse-hash-creation/">Quick Tip #5: The Z=> zip operator, lazy ranges, and terse hash creation.</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 20, 2016</span>
</div>

		<div class="excerpt">





Perl 6 has some very sophisticated operators, and many of them naturally do the sorts of things that we do quite a bit unnaturally otherwise. The strength of these operators are the ugliness they hide from us. <!--more-->

Consider how I might turn a Perl 5 array into a hash, perhaps so I can use <code>exists</code> to lookup an item:

<pre class="brush:perl">
#!perl5
my @array = qw( a b c d );
my %hash  = map { $_ =&gt; 1 } @array;
</pre>

It might seem a bit shorter to try a hash slice assignment, but I like to declare my variables. This is this a bit goofy looking:

<pre>
#!perl5
my %hash;
@hash{ @array } = (1) x @array;
</pre>

It&#39;s a bit harder if I want the hash value to be the array position:

<pre class="brush:perl">
#!perl5
my @array = qw( a b c d );
my %hash  = map { $array[$_] =&gt; $_ } 0 .. $#array;

# ... or
@hash{ @array } = 0 .. $#array;
</pre>

I can still do these things the hard way in Perl 6. The <a href="https://docs.perl6.org/language/operators#Sequencer_Precedence">feed operators</a> (<code>==&gt;</code>, also known as <i>sequencer</i>) makes short work of declaring a variable on one side of the expression, doing work in the middle, and having the result end up in a declared variable on the other end. It&#39;s like an <code>xargs</code> for programming languages where the result of the generating side because the final arguments of the receiving side:

<pre class="brush:plain">
#!perl6
my @array = <a b c d>
	==&gt; map( { $_ =&gt; 1 } )
	==&gt; my %hash1;
</a></pre>

I know I&#39;m going to abuse those feed operators.

What if I want the array index to be the value. Or, is it? Perl 6 does quite a bit to make it easy to create lists. If you make it easy to create complex data structures, you&#39;re going to be a nice language.

I can use the <a href="https://docs.perl6.org/language/operators#Zip_Operators">zip metaoperator</a>, <code>Z</code> to apply the <a href="https://docs.perl6.org/language/operators#Item_Assignment_Precedence">item assignment operator</a>, <code>=&gt;</code> to corresponding pairs:

<pre class="brush:plain">
my %hash2 = @array Z=&gt; 0 .. @array.end;
</pre>

This takes the first item in <code>@array</code> and pairs it with the first item in the <code>0 .. @array.end</code>.

But, I don&#39;t even need to know about the end of the array. The zip operator stops when it gets to the end of the shorter list. I don&#39;t need to type out the name of the array again:

<pre class="brush:plain">
my %hash2 = @array Z=&gt; 0 .. *;
</pre>



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/20/the-z-zip-operator-lazy-ranges-and-terse-hash-creation/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/21/quick-tip-6-data-dumping-is-built-in/">Quick Tip #6: Data dumping is built into Rakudo</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 21, 2016</span>
</div>

		<div class="excerpt">





I&#39;ve often wished that Perl 5&#39;s <a href="http://www.metacpan.org/module/Data::Dumper">Data::Dumper</a> was built into the language. I often have statements like: <!--more-->

<pre class="brush:perl">
#!perl5
Dumper( @array ); use Data::Dumper;
</pre>

Or, if I&#39;m playing with <a href="http://www.metacpan.org/module/Mojolicious">Mojolicious</a>:

<pre class="brush:perl">
#!perl5
use Mojo::Util qw(dumper);
dumper( @array );
</pre>

Rakudo (one of the Perl 6 implementations) has this baked in as <a href="https://docs.perl6.org/routine/dd">dd</a>. This is something extra beyond the Perl 6 specification. Here I drop into the REPL:

<pre class="brush:plain">
$ perl6
&gt; my @array = &#39;a&#39; .. &#39;g&#39;
[a b c d e f g]
&gt; dd @array
Array @array = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;]
</pre>

There is also the gist and perl methods. The first gives you output designed for people and the second shows the actual Perl interpretation:

<pre class="brush:plain">
&gt; @array.gist
[a b c d e f g]
&gt; @array.perl
[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;, &quot;g&quot;]
</pre>

If that&#39;s not enough for you, there&#39;s the <a href="https://modules.perl6.org/">Data::Dump</a> module that can do many other things, including colorizing the output.

<div align="image center">
<div>
<img height="349" src="/images/data-dump-color-output.png" width="500">
<p class="caption"></p>
</div>
</div>



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/21/quick-tip-6-data-dumping-is-built-in/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/22/quick-tip-7-texas-and-unicode-things/">Quick Tip #7: Texas and Unicode things</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 22, 2016</span>
</div>

		<div class="excerpt">





<i>[&quot;Texas&quot; as a cute name has been changed to the less offensive and more prosaic &quot;ASCII&quot;]</i>

Perl 6 is more than Unicode &quot;aware&quot;—it reaches into the Unicode Character Database to use appropriate and meaningful characters. There use to be a joke that the only thing that kept Perl 5 from expanding was the lack of unused punctuation keys. That&#39;s not a problem anymore. <!--more-->

But, for most Unicode thingys, there is an ASCII version. That version is probably multiple characters, so it&#39;s larger than the Unicode version. And, since it&#39;s a larger, super-sized version, we&#39;ll call it the &quot;Texas&quot; version. The Perl 6 docs <a href="https://docs.perl6.org/language/unicode_texas#Other_acceptable_single_codepoints">map the Unicode to ASCII versions</a>.

I wrote a small command-line program to convert between the two. It&#39;s not very sophisticated and I plan on improving it later. I&#39;d especially like to look up things based on what they do. For instance,  search for &quot;subset&quot; and get subset operators. Another data column with a description would be nice. And, reading all this from a file. Although I&#39;ve taken the data from a <a href="https://docs.perl6.org/language/unicode_texas#Other_acceptable_single_codepoints">single page in the Perl 6 docs</a>, there are many other things I could add (such as the quoting stuff). I&#39;ve also saved this in my <a href="https://gist.github.com/briandfoy/619638701f38817387f3e5d22d6dab12">unicode2texas.p6 gist</a>.

<pre class="brush:plain">
use v6;

# https://docs.perl6.org/language/unicode_texas#Other_acceptable_single_codepoints
# https://gist.github.com/briandfoy/619638701f38817387f3e5d22d6dab12

my %hash;

BEGIN {  # Phasers on!
my @table = qw{
	«	U+00AB	&lt;<» u+00bb>&gt;
	×	U+00D7	*
	÷	U+00F7	/
	−	U+2212	-
	∘	U+2218	o
	≅	U+2245	=~=
	π	U+03C0	pi
	τ	U+03C4	tau
		U+1D452	e
	∞	U+221E	Inf
	…	U+2026	...
	‘	U+2018	&#39;
	’	U+2019	&#39;
	‚	U+201A	&#39;
	“	U+201C	&quot;
	”	U+201D	&quot;
	„	U+201E	&quot;
	｢	U+FF62	Q//
	｣	U+FF63	Q//
	⁺	U+207A	+
	⁻	U+207B	-
	¯	U+00AF	-
	⁰	U+2070	**0
	¹	U+2071	**1
	²	U+2072	**2
	³	U+2073	**3
	⁴	U+2074	**4
	⁵	U+2075	**5
	⁶	U+2076	**6
	⁷	U+2077	**7
	⁸	U+2078	**8
	⁹	U+2079	**9
	∘	U+2218	o
	∅	U+2205	set()
	∈	U+2208	(elem)
	∉	U+2209	!(elem)
	∋	U+220B	(cont)
	∌	U+220C	!(cont)
	⊆	U+2286	(&lt;=)
	⊈	U+2288	!(&lt;=)
	⊂	U+2282	(&lt;)
	⊄	U+2284	!(<) ( u+2287 ⊇>=)
	⊉	U+2289	!(&gt;=)
	⊃	U+2283	(&gt;)
	⊅	U+2285	!(&gt;)
	≼	U+227C	(<+) ( u+227d ≽>+)
	∪	U+222A	(|)
	∩	U+2229	(&amp;)
	∖	U+2216	(-)
	⊖	U+2296	(^)
	⊍	U+228D	(.)
	⊎	U+228E	(+)
	};

while ( @table #`(I could also read from a file) ) {
	# I&#39;d really like a @table.shift(3);
	my ( $unicode, $codepoint, $texas ) = @table.splice( 0, 3 );
	# I don&#39;t particularly like the two way hash here.
	%hash{ $unicode, $texas } = %(
		unicode   =&gt; $unicode,
		texas     =&gt; $texas,
		codepoint =&gt; $codepoint
		) xx *;  # list replication
	}
}

# I don&#39;t really need a multi here, but I&#39;m playing with it anyway.
# multi implies sub, so I could have said &quot;multi sub MAIN&quot;
multi MAIN( Str $s where { %hash{$_}:exists and .substr(0, 1).ord &gt; 0xAA } ) {
	say &quot;Running the Unicode version for $s&quot;;
	show( %hash{$s} );
	}

multi MAIN( Str $s where { %hash{$_}:exists and .substr(0, 1).ord <= "running "unicode: $s"; %h %h&lt;unicode %hash{$s} %s", %s\ntexas: ( ) ); 0xaa for say show show( sprintf sub texas the version { }>,
	}
</=></+)></)></»></pre>

Some notes on the program, which I didn&#39;t spend much time thinking about. In the <code>while</code> I put an <a href="https://docs.perl6.org/language/syntax#Multi-line_/_embedded_comments">embedded comment</a> <code>#`(...)</code>. I think I want to create a data file to hold all of this. 

I use a <a href="https://docs.perl6.org/language/functions#Multi-dispatch">multi to define the same subroutine name several times but with different signatures</a>. Inside each, I specify that they take a <a href="https://docs.perl6.org/type/Str">Str</a> but I constrain them with <a href="https://docs.perl6.org/type/Signature#Type_Constraints">where</a>. Those code blocks get the parameter as <code>$_</code> (or some other ways). That <code>$_</code> is the default &quot;topic&quot;,. When I neglect to type out the object in <code>.substr(0, 1)</code>, Perl 6 uses the topic. 

And, I do a few hash slices here, but never change the sigil.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/22/quick-tip-7-texas-and-unicode-things/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/23/quick-tip-8-perl-6-sets/">Quick Tip #8: Perl 6 sets</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 23, 2016</span>
</div>

		<div class="excerpt">





Perl 6 has proper sets and set-like types, along operators to do proper set operations. <!--more-->

<ul>
<li><a href="https://docs.perl6.org/type/Set">Set</a> - a collection of unique thingys
</li><li><a href="https://docs.perl6.org/type/Bag">Bag</a> - a collection of unique thingys, but weighted for the count of the number of times something is put the bag
</li><li><a href="https://docs.perl6.org/type/Mix">Mix</a> - a bag that allows fractional weights
</li></ul>

These are immutable types. Once you make them, that&#39;s it. Each has a <code>*Hash</code> version that allows you to change the members, but I&#39;ll ignore those.

<pre class="brush:plain">
$ perl6
&gt; my $set = set( 1, 2, 3, 4 )
set(4, 3, 1, 2)
&gt; 4 ∈ $set                      # member of
True
&gt; 5 ∈ $set                      # member of
False
&gt; 5 ∉ $set                      # not member of
True
&gt; set( 2, 3 ) ⊆ $set            # subset of
True
&gt; set( 2, 6 ) ⊆ $set            # subset of
False
</pre>

A set is a more natural way to see if a value exists in a list of values. You might each for a hash and use <code>:exists</code> to check for the key, but a set will do that (even though that&#39;s what
Perl 6 sets are doing for you behind the scenes for now):

<pre class="brush:plain">
my $set  = set( &lt;a b c d&gt; );
my $item = &#39;h&#39;;
say &quot;$item is in set&quot; if $item ∈ $set;
</pre>


Perl 6 has the operators to turn two lists into a set:

<pre class="brush:plain">
$ perl6
&gt; ( 1, 2, 3 ) ∪ ( 4, 5 )        # union
set(5, 4, 3, 1, 2)
&gt; ( 1, 2, 4 ) ∩ ( 1,  2, 3 )    # intersection
set(1, 2)
&gt; ( 1, 2, 4 ) ∖ ( 1, 2, 3 )     # difference
set(4)
&gt; ( 1, 2, 4 ) ⊖ ( 1, 2, 3 )     # symmetric difference
set(4, 3)
</pre>

So far I&#39;ve used the fancy Unicode characters that you&#39;d see in set math, but each of these have <a href="https://docs.perl6.org/language/unicode_texas">Texas (ASCII) versions</a> too:

<table>
<tr>
<th>Texas</th>
<th>Fancy</th>
<th>Codepoint (hex)</th>
<th>Operation</th>
</tr>

<tr><td>(elem)</td> <td>∈</td><td>U+2208</td><td>member of, <code>$a ∈ $set</code> or <code>$a (elem) $set</code></td></tr>
<tr><td>!(elem)</td><td>∉</td><td>U+2209</td><td>not a member of, <code>$a ∉ $set</code> or <code>$a !(elem) $set</code></td></tr>
<tr><td>(cont)</td> <td>∋</td><td>U+220B</td><td>contains, </td></tr>
<tr><td>!(cont)</td><td>∌</td><td>U+220C</td><td>does not contain</td></tr>
<tr><td>(&lt;=)</td><td>⊆</td><td>U+2286</td><td>subset of or equal to, </td></tr>
<tr><td>!(&lt;=)</td><td>⊈</td><td>U+2288</td><td>not subset of nor equal to, </td></tr>
<tr><td>(&lt;)</td> <td>⊂</td><td>U+2282</td><td>subset of</td></tr>
<tr><td>!(&lt;)</td> <td>⊄</td><td>U+2284</td><td>not subset of</td></tr>
<tr><td>(&gt;=)</td>   <td>⊇</td><td>U+2287</td><td>superset of or equal to, </td></tr>
<tr><td>!(&gt;=)</td>   <td>⊉</td><td>U+2289</td><td>not superset of nor equal to, </td></tr>
<tr><td>(&gt;)</td>    <td>⊃</td><td>U+2283</td><td>superset of</td></tr>
<tr><td>!(&gt;)</td>    <td>⊅</td><td>U+2285</td><td>not superset of</td></tr>
<tr><td>(&gt;+)</td><td>≼</td><td>U+227C</td><td>baggy superset</td></tr>
<tr><td>!(&gt;+)</td>   <td>≽</td><td>U+227D</td><td>not baggy superset</td></tr>

</table>

There are operators that return sets from two lists:

<table>
<tr>
<th>Texas</th>
<th>Fancy</th>
<th>Codepoint (hex)</th>
<th>Operation</th>
</tr>
<tr><td>(|)</td><td>∪</td><td>U+222A</td><td>union</td></tr>
<tr><td>(&amp;)</td><td>∩</td><td>U+2229</td><td>intersection</td></tr>
<tr><td>(-)</td><td>∖</td><td>U+2216</td><td>difference</td></tr>
<tr><td>(^)</td><td>⊖</td><td>U+2296</td><td>symmetric difference</td></tr>
<tr><td>(.)</td><td>⊍</td><td>U+228D</td><td>baggy multiplication</td></tr>
<tr><td>(+)</td><td>⊎</td><td>U+228E</td><td>baggy addition</td></tr>

</table>




		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/23/quick-tip-8-perl-6-sets/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/24/quick-tip-8-user-defined-data-types/">Quick Tip #9: User-defined data types</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 24, 2016</span>
</div>

		<div class="excerpt">





Perl 6 has <a href="http://wphomes.soic.indiana.edu/jsiek/what-is-gradual-typing/">&quot;gradual typing&quot;</a>. I can constrain values when I like, and let them run free otherwise. User-defined data types are one of the Perl 6 features that excite me the most. I can define what sort of value I can put in a container thingy, and I can define my own types any way that I like. <!--more-->

First, I&#39;ll show a couple of built-in types. I can constrain an array to contain only <a href="https://docs.perl6.org/type/Int">Int</a> values. I place the type between the declarator and the variable name. If every value I want to store is that type, I have no problem. If there&#39;s a non-decimal integer string (say, a hex digit), I have a problem:

<pre class="brush:plain">
$ perl6
To exit type &#39;exit&#39; or &#39;^D&#39;
&gt; my Int @array = <1 2 3>
[1 2 3]
&gt; my Int @other_array = <8 9 a b>
Type check failed in assignment to @other_array; expected Int but got Str (&quot;a&quot;)
</8></1></pre>

This means I can constrain some thing at the point I store them in the variable instead of checking a type-agnostic array every time I use it somewhere else.

Perl 6 already comes with some classes. The <code>Int</code> type is a platform-agnostic number that doesn&#39;t depend on the local ideas of integers. I could use the lowercase version, <code>int</code>, to specify a native type. Those are limited to the storage types on the platform:

<pre class="brush:plain">
&gt; my Int $j = 99999999999999999999
99999999999999999999
&gt; my int $j = 99999999999999999999
Cannot unbox 67 bit wide bigint into native integer
</pre>

I can make my own type. I can create my own classes and then use those class names as types:

<pre class="brush:plain">
&gt; class Butterfly {}
(Butterfly)
&gt; my Butterfly $thingy1 = Butterfly.new
Butterfly.new
&gt; my $animal = Butterfly.new
Butterfly.new
&gt; $animal.WHAT
(Butterfly)
&gt; my Butterfly $thingy2 = $animal
Butterfly.new
&gt; my Butterfly $thingy3 = 137
Type check failed in assignment to $thingy3; expected Butterfly but got Int (137)
</pre>

Check that out! I didn&#39;t put anything in the class, but Perl 6 provided the <code>new</code> constructor for me. I&#39;ll write about that some other time.

I can create subtypes based on those that already exist. First, the
value has to satisfy the base type, then the extra constraint I put on it. I use subset to start it off and a where clause with some code:

<pre class="brush:plain">
&gt; subset Vowel of Str where *.lc ∈ set( &lt;a e i o u y m&gt; )
(Vowel)
&gt; my Vowel $s = &#39;A&#39;;
A
&gt; my Vowel $s = &#39;e&#39;
e
&gt; my Vowel $s = &#39;j&#39;
Type check failed in assignment to $s; expected Vowel but got Str (&quot;j&quot;)
</pre>

In this case, I created a new type called <code>Vowel</code> based on <a href="https://docs.perl6.org/type/Str.html">Str</a>. The value has to be some sort of string, so thats a start, but I constrain it to be a string in a set (which I wrote about yesterday in <a href="/2016/11/23/quick-tip-8-perl-6-sets/">Perl 6 sets</a>).

Zoffix has a very good post, <a href="http://blogs.perl.org/users/zoffix_znet/2016/04/perl-6-types-made-for-humans.html">&quot;Perl 6 Types: Made for Humans&quot;</a> on the same thing, and Brad Clawsie created <a href="https://github.com/bradclawsie/Subsets-Common">Subsets::Common</a> to comprise interesting types. A  <a href="http://softwareengineering.stackexchange.com/q/222555/103630">StackExchange question on gradual typing</a> is very interesting as well, although it has virtually nothing to do with Perl 6. Jonathan
Worthington has an <a href="http://www.jnthn.net/papers/2008-yapc-eu-perl6types.pdf">older presentation on types</a> from YAPC::EU 2008.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/24/quick-tip-8-user-defined-data-types/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/25/quick-tip-10-syntax-highlighting-perl-6/">Quick Tip #10: Syntax highlighting Perl 6</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 25, 2016</span>
</div>

		<div class="excerpt">





So far, my quick tips haven&#39;t been that quick. I&#39;ve gotten mired in the tarpit of tracking down weird behaviors and whatnot. Here&#39;s a truly quick tip. If you have more info on editor syntax highlighting for Perl 6, leave a comment. <!--more-->

If you&#39;re on StackOverflow and you want your code highlighted as Perl 6, use the HTML comment <code>&lt;!-- language-all: lang-perl6 --&gt;</code>. See <a href="http://stackoverflow.com/q/40814933/2766176">what Brad Gilbert did with one of my questions</a>. They use <a href="https://github.com/google/code-prettify">Google Prettify</a>, which does a job of the usual Google quality.

David Farrell explains how to activate Perl 6 syntax in his Perltricks article <a href="https://perltricks.com/article/194/2015/9/22/Activating-Perl-6-syntax-highlighting-in-Vim/">Activating Perl 6 syntax highlighting in Vim</a>. And, he&#39;s also supporting the <a href="https://www.kickstarter.com/projects/1422827986/learning-perl-6">Kickstarter campaign</a> by offering two more backers the chance to sponsor a Perl 6 article on Perltricks.

See the <a href="https://github.com/vim-perl/vim-perl">vim-perl</a> Github project, or the <a href="https://github.com/hinrik/perl6-mode">perl6-mode</a> Github project for emacs.

The Atom editor <a href="https://atom.io/packages/language-perl6fe">supports Perl 6</a>. It doesn&#39;t seem that helpful though.

The <a href="http://padre.perlide.org">Padre editor</a> does too. It even has a butterfly for its logo.

I started a <a href="/2016/01/10/a-perl-6-bbedit-codeless-language-module/">BBEdit Codeless Language Module</a>, but it&#39;s so deficient it&#39;s hardly worth mentioning.

One of Perl 6&#39;s goals for improvement over Perl 5 was a much easier way to parse the a program without being the language itself. There&#39;s an <a href="https://github.com/perl6/std">actual grammar</a>.

If you know of more stuff, leave a comment.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/25/quick-tip-10-syntax-highlighting-perl-6/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/26/quick-tip-11-number-strings-and-numberstring-allomorphs/">Quick Tip #11: Number, Strings, and NumberString Allomorphs</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 26, 2016</span>
</div>

		<div class="excerpt">





Perl 6 has a variety of ways to quote things (maybe too many), but they aren&#39;t all the same thing. The angle-bracket quote words, <code>&lt;...&gt;</code> isn&#39;t just <code>qw//</code> written with different characters. It tries to  guess what the words inside the brackets mean. That wasn&#39;t documented today, but <a href="https://github.com/perl6/doc/commit/fa0b8f643356a3db1e5e59fda4f153f48f90ee90">Zoffix has changed the docs</a> so now it does. <!--more-->

Start with <code>qw//</code>, the basic quotewords operators. It  grabs groups of non-whitespace characters and produces a list of those strings:

<pre class="brush:plain">
$ perl6
&gt; qw{ a b c}.perl
(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)
&gt; qw{ a b c}.WHAT
(List)
</pre>

This form doesn&#39;t care what the strings are. Every item comes out a string:

<pre class="brush:plain">
&gt; qw{ a b 137}.perl
(&quot;a&quot;, &quot;b&quot;, &quot;137&quot;)
&gt; qw{ a b 137}.WHAT
(List)
&gt; qw{ a b 137}.[*-1].perl
&quot;137&quot;
&gt; qw{ a b 137}.[*-1].WHAT
(Str)
</pre>

There&#39;s also a more general quote operator, <code>Q</code>, that can take a <code>:w</code> adverb to do the same thing:

<pre class="brush:plain">
&gt; Q:w{ a b 137}.perl
(&quot;a&quot;, &quot;b&quot;, &quot;137&quot;)
</pre>

This is mostly what I expect. Everything in the quote words operators come out as the same sort of thing. But note, just because I expect something doesn&#39;t mean it&#39;s reality. You&#39;ll be much happier with Perl 6 if you don&#39;t expect it to act like some other language named Perl.

<h3>The angle bracket quote words</h3>

The angle bracket form, however, tries to guess what the strings mean. It uses <a href="https://docs.perl6.org/routine/val">val</a> to turn strings that look like numbers into an <i>allomorph</i>. That&#39;s something that can look different but retains its meaning. The idea of the digit 1 is the same as the string &quot;1&quot; and the string &quot;one&quot;, even if Perl 6 decides to represent them as different classes.

<table>

<th>
<tr></tr></th><td><a href="https://docs.perl6.org/type/IntStr">IntStr</a></td><td>&quot;137&quot;</td><td>Whole numbers</td>
<tr><td><a href="https://docs.perl6.org/type/NumStr">NumStr</a></td><td>&quot;1.37e2&quot;</td><td></td></tr>
<tr><td><a href="https://docs.perl6.org/type/RatStr">RatStr</a></td><td>&quot;1/137&quot;</td><td>Rational numbers</td></tr>
<tr><td><a href="https://docs.perl6.org/type/ComplexStr">ComplexStr</a></td><td>&quot;137+0i&quot;</td><td>Complex numbers</td></tr>
<tr><td><a href="https://docs.perl6.org/type/xStr">Str</a></td><td>&quot;abc&quot;</td><td>Everything else</td></tr>


First, look at some values in the Perl 6 REPL. I use <a href="https://docs.perl6.org/routine/val">val</a> on a bunch of strings and then call <code>WHAT</code> to see what <a href="https://docs.perl6.org/routine/val">val</a> produced:

<pre class="brush:plain">
$ perl6
&gt; val( &quot;137&quot; ).WHAT
(IntStr)
&gt; val( &quot;1e37&quot; ).WHAT
(NumStr)
&gt; val( &quot;1/137&quot; ).WHAT
(RatStr)
&gt; val( &quot;137+4i&quot; ).WHAT
(ComplexStr)
&gt; val( &quot;abc&quot; ).WHAT
(Str)
</pre>

Previously, the quote words didn&#39;t guess like this for us, but we can add the <code>:v</code> adverb (if you can find this in the docs, let me know so I can link to it):

<pre class="brush:plain">
$ perl6
&gt; qw:v{ 137 1.37e2 137+0i 1/137 }.perl
(IntStr.new(137, &quot;137&quot;), NumStr.new(137e0, &quot;1.37e2&quot;), ComplexStr.new(<137+0i>, &quot;137+0i&quot;), RatStr.new(<1 137></1>, &quot;1/137&quot;))
</137+0i></pre>

This is what the angle-bracket form of word quoting does (&quot;documented&quot; in <a href="https://design.perl6.org/S02.html#Allomorphic_value_semantics">S02: Allomorphic value semantics</a>:

<pre class="brush:plain">
&gt; <137 1 1.37e2 137 137+0i></137>.perl
(IntStr.new(137, &quot;137&quot;), NumStr.new(137e0, &quot;1.37e2&quot;), ComplexStr.new(<137+0i>, &quot;137+0i&quot;), RatStr.new(<1 137></1>, &quot;1/137&quot;))
</137+0i></pre>

The <a href="https://docs.perl6.org/routine/val">val</a> can tell you if Perl 6 thinks a string is a number and fail otherwise. Give it the <code>:val-or-fail</code> adverb and you might get an exception:

<pre class="brush:plain">
&gt; val( &quot;123Camelia&quot;, :val-or-fail )
Cannot convert string to number: trailing characters after number in &#39;123⏏Camelia&#39; (indicated by ⏏)
</pre>

If you&#39;re expecting the lax string to number conversion of Perl 5, you&#39;re out of luck.

<pre class="brush:plain">
&gt; &quot;123Camelia&quot; + 0
Cannot convert string to number: trailing characters after number in &#39;123⏏Camelia&#39; (indicated by ⏏)
</pre>

<a href="https://docs.perl6.org/routine/val">val</a> returns the starting string when it can&#39;t convert it:

<pre class="brush:plain">
&gt; my $s = val( &quot;123Camelia&quot; )
123Camelia
&gt; $s.WHAT
(Str)
</pre>

With <code>:val-or-fail</code>, you get a <a href="https://docs.perl6.org/type/Failure">Failure</a> object back instead:

<pre class="brush:plain">
&gt; my $s = val( &quot;123Camelia&quot;, :val-or-fail )
Cannot convert string to number: trailing characters after number in &#39;123⏏Camelia&#39; (indicated by ⏏)
&gt; $s.WHAT
(Failure)
</pre>

<h3>Digit strings that aren&#39;t numbers</h3>

This means, though, that if you have strings that are digits but shouldn&#39;t be numbers (i.e. strings that use digits to identify a thingy but for whom there is no algebra), then angle brackets aren&#39;t what you want. You wouldn&#39;t want to put postal codes in them, for instance. Or vehicle number plates. Those might be digits, but you wouldn&#39;t add or multiply them. That is, you wouldn&#39;t want to pass them
through <a href="https://docs.perl6.org/routine/val">val</a>:

<pre class="brush:plain">
my @zip_codes =   <02199 01614 02902 94039>; # not what you want
my @zip_codes = qw{ 02199 02902 01614 94039 }; # stays as strings
</02199></pre>

If you&#39;ve ever had to process postal code data that was incorrectly inserted, exported, or otherwise handled, you can appreciate this.

But, there are some times that you don&#39;t know if you need the number or string form. Perl 6 has signatures that can let it decide which subroutine or method to use in multiple dispatch.

Indeed, it&#39;s even difficult to justify putting most things into angle brackets because number things as strings already turn into the right thing with mathematical operators. You probably don&#39;t need Perl 6 to guess at these things for you ahead of time.

<h3>The case for lists of allomorphs</h3>

So what is the case for the angle brackets? You want to use them when
you want numbers to be either strings or numbers <i>types</i>. Some
things in Perl 6 can constrain the types of values they will accept. A subroutine signature might call for an <a href="https://docs.perl6.org/type/Failure">Int</a>:

<pre class="brush:plain">
sub do_something ( Int $i ) { ... }
</pre>

But, perhaps you&#39;ve got a bunch of values of unknown origin or dubious parentage. The angle brackets leave strings as strings. It turns numbers and strings that look like numbers in allomorphs. The double angle brackets are for variable interpolation:

<pre class="brush:plain">
&gt; my $a = &#39;123&#39;;
123
&gt; my $b = &#39;Butterfly&#39;
Butterfly
&gt; my $c = 321
321
&gt; &lt;<$a $b $c>&gt;.perl
(IntStr.new(123, &quot;123&quot;), &quot;Butterfly&quot;, IntStr.new(321, &quot;321&quot;))
</$a></pre>

Now, consider the case of constructing an argument list. You want the compactness that comes with the implied commas and quotes, but you need number-like strings:

<pre class="brush:plain">
sub int-or-str ( Int $i, Str $s, Rat $r ) { say &quot;Hello&quot; }

int-or-str( 1, &#39;Butterfly&#39;, 1/2 );
int-or-str( |<1 1 2 butterfly></1> );
</pre>

In the first call, I make the argument list with commas and the types satisfy the signature for <code>int-or-str</code>. Everything works out.


If I use angle quotes (and turn the resulting List into an argument list (lowercase l) with the &quot;turn that List into an argument list&quot; operator (uppecase |)), it still works. The numberish things come out as <a href="https://docs.perl6.org/type/IntStr">IntStr</a> or <a href="https://docs.perl6.org/type/RatStr">RatStr</a>. Since <a href="https://docs.perl6.org/type/RatStr">RatStr</a> is both <a href="https://docs.perl6.org/type/Rat">Rat</a> and <a href="https://docs.perl6.org/type/Str">Str</a> under multiple inheritance, a RatStr satifies either.

<h3>The stronger case for single things</h3>

The single thingy angle brackets is useful mostly for grouping when you don&#39;t a literal that may be constant folded (hence losing its type). Inside the angle brackets it&#39;s a number type:

<pre class="brush:plain">
&gt; <1 137></1>.WHAT
(Rat)
</pre>

Wait a minute! That&#39;s not a stringy thing at all! But watch this:

<pre class="brush:plain">
&gt; <1 137></1>.WHAT
(RatStr)
</pre>

Okay, that&#39;s weird. With no spaces it&#39;s just the number type. With some whitespace, it&#39;s the allomorph type.



</table>
		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/26/quick-tip-11-number-strings-and-numberstring-allomorphs/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/27/quick-tip-12-unicode-helper-apps/">Quick Tip #12: Unicode Helper Apps</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 27, 2016</span>
</div>

		<div class="excerpt">





Perl 6 uses fancy Unicode characters to do some of its work, but those don&#39;t show up on most keyboards. I like the Mac program <a href="https://earthlingsoft.net/UnicodeChecker/">UnicodeChecker</a>. I can search by name, code point, or I can paste a character. I find the one that I want, copy it, and paste it into source. The Windows program <a href="http://www.babelstone.co.uk/Software/BabelMap.html">BabelStine</a> looks similar. Leave me suggestions if you know something for your distro. <!--more-->

<div class="image align">
<div>
<img height="518" src="/images/unicode_checker.png" width="500">
<p class="caption"> UnicodeChecker </p>
</div>
</div>

Or, you can write your own program. Here&#39;s one that takes codepoints and prints their characters (assuming that your terminal is already set up for UTF-8):

<pre class="brush:plain">
$ perl6 -e &#39;for @*ARGS { say chr(:16($_)) }&#39; 2150 2153
⅐
⅓
</pre>

The <code>:16()</code> interprets its string argument as base 16. You can convert any base between 2 and 36 that way. 

I can have some command-line aliases:

<pre class="brush:plain">
alias u2char=&#39;perl6 -e &quot;for @*ARGS { say chr(:16(\$_)) }&quot;&#39;
</pre>




		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/27/quick-tip-12-unicode-helper-apps/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/28/quick-tip-13-krapukers-constant/">Quick Tip #13: Kapreker's Constant</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 28, 2016</span>
</div>

		<div class="excerpt">





A Kaprekar&#39;s Constant is the number you end up with when you repeatedly substract the descending digits of a four digit number from the ascending digits. This is mostly a problem with rearranging characters. <!--more-->

Here&#39;s the process:

<ul>
<li>Start with a four digit number that has at least two different digits. Zero-pad if necessary.
</li><li>Get the number formed from the ascending digits, and the number formed from the descending digits.
</li><li>Subtract the ascending from the descending to get the starting number for the next round.
</li><li>Do it again. You shouldn&#39;t have to do this more than seven times.
</li></ul>

Perl 6 has some nice methods in the <a href="https://docs.perl6.org/type/Str.html">Str</a> class. The <code>comb</code> method turns a string into a list of its characters. Once I have a list, it&#39;s a matter of sorting the digits and putting them back together.

I use the signature for the MAIN subroutine to grab a number from the command line and force it to be in the right range. Perl 6 has the nice syntax to check that a number is between two others that uses the variable once.

I also put the list of digits into a set so I can check if there is more than one thing (set members are unique).

<pre class="brush:plain">
sub MAIN ( Int $n where { 0 &lt; $_ &lt;= 9999 and set( $n.comb ).elems &gt; 1 } ) {
	my $previous = &#39;0000&#39;;

	# pad small numbers with zero to maintain 4 digits in $descending
	# we treat numbers as strings of digits rather than values
	my $next = sprintf &quot;%04d&quot;, $n;

	while ( $next != 0 ) {
		my $descending = $next.comb.sort.reverse.join;
		my $ascending  = $next.comb.sort.join;
		$next = sprintf &quot;%04d&quot;, $descending - $ascending;
		say &quot;$descending - $ascending = $next&quot;;
		last if $next eq $previous;
		$previous = $next;
		}
	}
</pre>

When I run this with a number that fits the conditions, it quickly turns into 6174, and that&#39;s Kaprekar&#39;s Constant:

<pre class="brush:plain">
$ perl6 kaprekar_numbers.p6 8881
8881 - 1888 = 6993
9963 - 3699 = 6264
6642 - 2466 = 4176
7641 - 1467 = 6174
7641 - 1467 = 6174
</pre>

If I try to pass invalid input, the <code>MAIN</code> doesn&#39;t run. Instead, an implied <code>USAGE</code> spits out a vague message:

<pre class="brush:plain">
$ perl6 kaprekar_numbers.p6
Usage:
  kaprekar_numbers.p6 &lt;n&gt;
$ perl6 kaprekar_numbers.p6 abc
Usage:
  kaprekar_numbers.p6 &lt;n&gt;
$ perl6 kaprekar_numbers.p6 1
Usage:
  kaprekar_numbers.p6 &lt;n&gt;
</pre>

I could define my own <code>USAGE</code>, but I&#39;ll save that for another Quick Tip.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/28/quick-tip-13-krapukers-constant/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/29/quick-tip-14-myriad-output-routines/">Quick Tip #14: Myriad output routines</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 29, 2016</span>
</div>

		<div class="excerpt">





Perl 6 has many ways to output things. Here&#39;s a table of the various routines you may want, along with their subtle differences. <!--more-->

<table cellpadding="10px" cellspacing="10px">

<tr>
	<th style="bgcolor: yellow; padding-right: 5px:">routine  </th>
	<th>IO handle  </th>
	<th>Behavior  </th>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/print">print</a></code></td>
	<td><code>$*OUT</code></td>
	<td></td>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/printf">printf</a></code></td>
	<td>IO::Handle object</td>
	<td>Call as a method on some <a href="https://docs.perl6.org/type/IO$COLON$COLONHandle#method_printf">IO::Handle</a> object.  </td>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/put">put</a></code></td>
	<td><code>$*OUT</code></td>
	<td>Outputs its arguments and adds the line-ending</td>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/say">say</a></code></td>
	<td><code>$*OUT</code></td>
	<td>Adds newline, uses <code><a href="https://docs.perl6.org/routine/gist">.gist</a></code> on non-<code>Str</code> objects</td>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/note">note</a></code></td>
	<td><code>$*ERR</code></td>
	<td>Adds newline, uses <code><a href="https://docs.perl6.org/routine/gist">.gist</a></code> on non-<code>Str</code> objects</td>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/dd">dd</a></code></td>
	<td><code>$*ERR</code></td>
	<td>Rakudo extension for data dumping. It actually wraps <code><a href="https://docs.perl6.org/routine/note">warn</a></code>.</td>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/prompt">prompt</a></code></td>
	<td><code>$*OUT</code></td>
	<td>Outputs arguments, then waits for a line of input. It returns the line without the newline.</td>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/die">die</a></code></td>
	<td><code>$*ERR</code></td>
	<td>Throws an exception. The default handler prints a stacktrace to standard error.</td>
</tr>

<tr>
	<td><code><a href="https://docs.perl6.org/routine/note">warn</a></code></td>
	<td></td>
	<td>Throws an exception. You properly might want <code><a href="https://docs.perl6.org/routine/note">note</a></code> instead.</td>
</tr>

</table>



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/29/quick-tip-14-myriad-output-routines/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/11/30/quick-tip-15-phasers/">Quick Tip #15: Phasers</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">November 30, 2016</span>
</div>

		<div class="excerpt">





Perl 6 has phasers, which are subroutines that run at particular times despite their spatial placement inside the the program text. As a program moves from one thing to another, it might trigger a phaser. I wanted to use a cute title like &quot;Phasers set to stun!&quot;, but <a href="https://perl6advent.wordpress.com/2012/12/15/day-15-phasers-set-to-stun/">Jonathan Worthington got there first in the 2012 Perl 6 Advent Calendar</a>. (And, tomorrow is the first day of the <a href="https://perl6advent.wordpress.com">2016 Perl 6 Advent Calendar</a>). <!--more-->

For instance, there&#39;s a boundary once the compiler has compiled the program and when the main execution of the program is about to begin. Or, when the program enters or leaves a block.

Here are the <code>NEXT</code> and <code>LAST</code> block phasers:

<pre class="brush:plain">
for 0 .. 3 -&gt; $item {
	put &quot;$item: I&#39;m the last statement in this block&quot;;
	NEXT { say &quot;NEXT: About to move onto next iteration&quot; }
	LAST { say &quot;LAST: I&#39;m not running this block again&quot; }
	}
</pre>

The output shows that the <code>put</code> outputs its message, then the <code>NEXT</code> does. After all the iterations, the <code>LAST</code> runs:

<pre class="brush:plain">
0: I&#39;m the last statement in this block
NEXT: About to move onto next iteration
1: I&#39;m the last statement in this block
NEXT: About to move onto next iteration
2: I&#39;m the last statement in this block
NEXT: About to move onto next iteration
3: I&#39;m the last statement in this block
NEXT: About to move onto next iteration
LAST: I&#39;m not running this block again
</pre>

But, I can rearrange the statements and get the same output:

<pre class="brush:plain">
for 0 .. 3 -&gt; $item {
	LAST { say &quot;LAST: I&#39;m not running this block again&quot; }
	NEXT { say &quot;NEXT: About to move onto next iteration&quot; }
	put &quot;$item: I&#39;m the last statement in this block&quot;;
	}
</pre>

The phasers are attached to Perl 6&#39;s block handling and aren&#39;t really part of the statements inside the block even though that&#39;s where I declared them.

But, since I declared the phasers inside the block, they can bind to variables in that scope. Here I can output a message after the last iteration:

<pre class="brush:plain">
for 0 .. 15 -&gt; $item {
	state $count = 0;
	if $item.is-prime {
		put &quot;$item is prime&quot;;
		$count++;
		}
	LAST { say &quot;There were $count primes&quot; }
	}
</pre>

That&#39;s really cool! I like this much more than adding another, outer scope to handle the variable and the final message:

<pre class="brush:plain">
{
my $count;
for 0 .. 15 -&gt; $item {
	if $item.is-prime {
		put &quot;$item is prime&quot;;
		$count++;
		}
	}
say &quot;There were $count primes&quot;;
}
</pre>

Note that even though the phasers don&#39;t particularly care about their textual position, the compiler needs to have already seen anything you want the phaser to reference. This won&#39;t work because <code>$count</code> doesn&#39;t exist yet:

<pre class="brush:plain">
for 0 .. 15 -&gt; $item {
	LAST { say &quot;There were $count primes&quot; }  # $count not compiled yet
	state $count = 0;
	if $item.is-prime {
		put &quot;$item is prime&quot;;
		$count++;
		}
	}
</pre>


Here&#39;s a program the shows many of the phasers:

<pre class="brush:plain">
use v6;

# Program execution
BEGIN  { put &quot;BEGIN, at compile time as soon as possible&quot; }
CHECK  { put &quot;CHECK, at compile time, as late as possible&quot; }
INIT   { put &quot;INIT, during main execution, as soon as possible&quot; }
END    { put &quot;END, during main execution, as late as possible&quot; }

for 0 .. 3 -&gt; $item {
	my Int $square = $item ** 2;

	# Block phasers
	ENTER { say &quot;\tENTER block&quot; }
	LEAVE { say &quot;\tLEAVE block&quot; }
	KEEP  { say &quot;KEEP block: Got value $_&quot;  } # not implemented?
	UNDO  { say &quot;\t\tUNDO block&quot;  }
	PRE   { say &quot;PRE block ------&quot;  } # before running block
	POST  { say &quot;POST block&quot; }        # after running block, before leaving

	# Loop phasers
	FIRST { say &quot;\tFIRST loop&quot; } # first one when beginning looping
	NEXT  { say &quot;\tNEXT loop&quot;  } # last one while looping
	LAST  { say &quot;\tLAST loop&quot;; say &quot;**** LOOP is done ****&quot;  } # last one when done looping
	}
</pre>



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/11/30/quick-tip-15-phasers/">Read more...</a></span>
</div> <!-- post -->




Unterminated <> operator at template line 11.
Context:
  6: <%
  7: 	my $items = get_var('items');
  8: 
  9: 	foreach my $item ( $items->@* ) {
  10: 		my $date = Time::Moment
  11: 			->from_string( $item->{date} . '-0400', lenient => 1 )
  12: 			->strftime( '%B %d, %Y' );
  13: %>
  14:     <!-- ----------------------------------------------------------- -->
  15: 	<div class="post">
  16: 		<h2 class="post_title excerpt_page"><a href="<%= $item->{web_path} =%>"><%= $item->{title} =%></a></h2>
Traceback (most recent call first):
  File "template", line 11, in "Mojo::Template::__ANON__"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 148, in "(eval)"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 163, in "Mojo::Template::process"
  File "/Users/brian/Desktop/migrate sites/www.learningraku.com/lib/Mojo/Template/Sandbox.pm", line 35, in "Mojo::Template::render"
  File "/Users/brian/Desktop/migrate sites/www.learningraku.com/lib/Mojo/Template/Sandbox.pm", line 25, in "Mojo::Template::Sandbox::include"
  File "_templates/month_list", line 34, in "Mojo::Template::Sandbox::__ANON__"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 160, in "Mojo::Template::Sandbox::__ANON__"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 160, in "(eval)"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 163, in "Mojo::Template::process"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 173, in "Mojo::Template::render"
  File "bin/cook", line 258, in "Mojo::Template::render_file"
  File "bin/cook", line 44, in "main::make_year_month_pages"
Context:
  6: my $bin  = get_var('bin');
  7: %>
  8: 
  9: 
  10: foreach my $n ( 1 .. $bins ) {
  11: %><a class="pag_link<%= $n == $bin ? ' pag_current'  : '' =%>" href="index<%= $n == 1 ? '' : "_$n" =%>.html"><%= $n =%></a>
  12: <% } %>
  13: </div>
  14: <!-- end paginate -->
Traceback (most recent call first):
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 163, in "Mojo::Template::process"
  File "/Users/brian/Desktop/migrate sites/www.learningraku.com/lib/Mojo/Template/Sandbox.pm", line 35, in "Mojo::Template::render"
  File "/Users/brian/Desktop/migrate sites/www.learningraku.com/lib/Mojo/Template/Sandbox.pm", line 25, in "Mojo::Template::Sandbox::include"
  File "_templates/month_list", line 34, in "Mojo::Template::Sandbox::__ANON__"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 160, in "Mojo::Template::Sandbox::__ANON__"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 160, in "(eval)"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 163, in "Mojo::Template::process"
  File "/usr/local/perls/perl-5.36.0/lib/site_perl/5.36.0/Mojo/Template.pm", line 173, in "Mojo::Template::render"
  File "bin/cook", line 258, in "Mojo::Template::render_file"
  File "bin/cook", line 44, in "main::make_year_month_pages"

</div>
<!-- end excerpt_list -->

</html>

