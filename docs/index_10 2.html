<!--
title: Index 10
link: http://www.learningraku.com/index_10.html
author: brian
date: 2022-01-23 3:10:26
post_name: main 10
status: publish
type: list
categories:
tags:
-->

<html>

<head>
	<base href="https://test.learningraku.com/">
	<title>Index 10</title>
	<link rel="stylesheet" href="/style.css">
	<meta name="generator" content="brian's site generator" />
	<meta charset="UTF-8" />
</head>


<!-- start middle_main_page -->
<div id="middle">

<!-- start sidebar -->
<div id="sidebar">
	<img id="small_cover" src="images/cover.png" width="180" height="236" />

	<div id="sponsors">
		<iframe src="https://github.com/sponsors/briandfoy/button" title="Sponsor briandfoy" height="35" width="116" style="border: 0;"></iframe>
	</div>

	<div class="textwidget"><p><a href="https://www.oreilly.com/catalog/errata.csp?isbn=0636920062776">Book errata</a><br />
		<a href="https://goo.gl/EbA7gF">Google Books preview</a><br />
		<a href="http://shop.oreilly.com/product/0636920062776.do">O&#8217;Reilly Media listing</a><br />
		<a href="https://amzn.to/3E0JQxK">Amazon.com</a></p>
		<hr />
		<p><i>Many resources have not changed the name from Perl 6 to Raku, so these resources may use either.</i></p>
		<p><a href="https://design.raku.org">Raku Design Docs (dated)</a><br />
		<a href="http://docs.raku.org">Raku Docs</a><br />
		<a href="https://learnxinyminutes.com/docs/raku/">Learn Raku in Y Minutes</a><br />
		<a href="https://modules.raku.org">Raku modules</a><br />
		<a href="https://rosettacode.org/wiki/Category:Raku">Rosetta Code examples</a><br />
		<a href="http://examples.perl6.org/categories/euler.html">Project Euler examples</a><br />
		<a href="http://examples.perl6.org">Perl 6 Examples</a><br />
		<a href="https://github.com/Raku/roast">Raku Roast (test suite examples)</a></p>
	</div>
</div>
<!-- end sidebar -->

<!-- start excerpt_list -->
<div id="content">


    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/12/19/translating-the-perlfaq-to-perl-6/">Translating the perlfaq to Perl 6</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">December 19, 2016</span>
</div>

		<div class="excerpt">





I started a GitHub project to <a href="https://github.com/briandfoy/perl5faq_in_perl6">translate the Perl 5 perlfaq to Perl 6</a>. For years I maintained those documents so they are a bit special to me. Sadly, the <a href="https://github.com/tpf/perlfaq">canonical TPF repo</a> started over in 2012 with the sources current in v5.15, so most of that history has been lost. Oh well. <!--more-->

I don&#39;t want to create a new FAQ for Perl 6, because an <a href="https://docs.perl6.org/language/faq.html">official FAQ</a> already exists. If that document steals from this new project, that&#39;s fine with me. I&#39;m doing this just because I am, and if you want to help or play with it, welcome! But, I&#39;m just translating and adapting, not adding or deleting.

I grabbed the perlfaq questions and put them into new documents, created a repo, and filled in some of the basic meta-answers for perlfaq1. I&#39;m curious how the rest of the perlfaq would turn out. The questions were things important to people twenty years ago. How does that hold up today?

<ul>
<li>Some things might not matter anymore in Perl 6
</li><li>Some things use different tools now
</li><li>The modules have all changed, and if they haven&#39;t, we can <a href="/2016/12/07/quick-tip-22-use-perl-5-modules-in-perl-6/">use the Perl 5 modules</a>.
</li></ul>

If it doesn&#39;t matter anymore, keeping the question but explaining the way Perl 6 handles it for you is something some people will appreciate. If it&#39;s a task-based question, people probably still have the question (and will have it frequently).



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/12/19/translating-the-perlfaq-to-perl-6/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/12/15/quick-tip-30-uninstall-a-perl-6-module/">Quick Tip #30: Uninstall a Perl 6 module</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">December 15, 2016</span>
</div>

		<div class="excerpt">





You can uninstall Perl 6 modules. Many people have asked for a way to uninstall a Perl 5 module, but that toolchain didn&#39;t do the sort of tracking that Perl 6 does. Some of these are recent developments, so you should have the most recent <a href="http://www.rakudo.org">Rakudo</a> that you can use. <!--more-->

In <a href="https://github.com/ugexe/zef">zef</a>:

<pre class="brush:plain">
$ zef uninstall Some::Module
</pre>

You might like <a href="http://ugexe.com/slightly-less-basic-perl6-module-management/">Slightly less basic Perl6 module management</a>, as well as the rest of Nick&#39;s blog.

If that doesn&#39;t work, niner has <a href="https://gist.github.com/niner/b39258032f70c083e57b">a gist that reaches into the internals</a>:

<pre class="brush:plain">
#!/usr/bin/env perl6
use v6.c;

sub MAIN($short-name, :$ver = True, :$auth = True, :$api = True) {
    my $comp-unit = $*REPO.resolve(CompUnit::DependencySpecification.new(:$short-name, :$ver, :$auth, :$api));
    $comp-unit.repo.uninstall($comp-unit.distribution);
}
</pre>

This is the final <a href="https://www.learningperl6.com/category/kickstarter-tips/">Quick Tip</a>. Thanks to everyone who helped me reach my Kickstarter goal. Now I have to get down to fulfilling your rewards and writing the book!




		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/12/15/quick-tip-30-uninstall-a-perl-6-module/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/12/14/quick-tip-29-flip-flopping-junctions/">Quick Tip #29: Flip-flopping junctions</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">December 14, 2016</span>
</div>

		<div class="excerpt">





The <a href="https://docs.perl6.org/language/operators#infix_ff">flip flop operator</a> isn&#39;t just something for politicians and nervous interface designers. It&#39;s a feature designed to turn on and off to set a window of processing. <!--more-->

Suppose I want to see all the words between two words in <i>/usr/share/dict/words</i> (your distro may place it elsewhere). I want to extract a window of lines from a big text.

The <code><a href="https://docs.perl6.org/language/operators#infix_ff">ff</a></code> operator is False until its lefthand expression is true, and then True until its righthand expression is True. After that, it&#39;s false. So, it turns on when the left side becomes true and turns off when the right side does.

Here&#39;s a program that reads lines from a file and prints the ones between the two words I specify:

<pre class="brush:plain">
sub MAIN (
	Str :$file  = &#39;/usr/share/dict/words&#39;,
	Str :$first!,
	Str :$last!,
	) {
	my $fh = open( $file );

	for $fh.lines -&gt; $line {
		say $line if $line ~~ $first ff $line ~~ $last; # flip-flop
		}
	}
</pre>

It&#39;s up to me to ensure that the first value is less than the last one, and I&#39;m going to ignore matters of case for this example:

<pre class="brush:plain">
$ perl6 words.p6 --first=fox --last=hound
fox
foxbane
foxberry
foxchop
...
Houghton
hounce
hound
</pre>

I can specify the same word for the start and end. When the particular word shows up, the flip-flop evaluates the lefthand side. Since it&#39;s the same word, the flip-flop turns on.

<pre class="brush:plain">
$ perl6 words.p6 --first=fox --last=fox
fox
</pre>

I still have to read all the lines in this example, but there it is.

The flip-flop has inclusive and exclusive versions, just like the ranges and sequences I wrote about in <a href="https://www.learningperl6.com/2016/11/18/quick-tip-3-inclusive-and-exclusive/">Quick Tip #3: Inclusive and Exclusive</a>. I can exclude either endpoint with a <code>^</code>:

<pre class="brush:plain">
sub MAIN (
	Str :$file  = &#39;/usr/share/dict/words&#39;,
	Str :$first!,
	Str :$last!,
	) {
	my $fh = open( $file );

	for $fh.lines -&gt; $line {
		say $line if $line ~~ $first ^ff^ $line ~~ $last; # changed!
		}
	}
</pre>

Now I don&#39;t see &quot;fox&quot; or &quot;hound&quot; in the output:

<pre class="brush:plain">
$ perl6 words.p6 --first=fox --last=hound
foxbane
foxberry
foxchop
...
Houghton
hounce
</pre>

In that example I excluded both endpoints with <code>^ff^</code>, but I can exclude either side on their own with <code><a href="https://docs.perl6.org/language/operators#infix_^ff">^ff</a></code> or <code><a href="https://docs.perl6.org/language/operators#infix_ff^">ff^</a></code>.

But, I don&#39;t have to be satisfied with one window. I can put <a href="https://docs.perl6.org/type/Junction">Junctions</a> into <code>$first</code> and <code>$last</code> to make multiple windows. Any of the values in <code>$first</code> can turn it on and any of the values in <code>$last</code> can turn it off.

<pre class="brush:perl">
sub MAIN (
	Str :$file  = &#39;/usr/share/dict/words&#39;,
	) {
	my $fh = open( $file );

	my $first = any( &lt;cat fox&gt; );
	my $last  = any( &lt;dog hound&gt; );

	for $fh.lines -&gt; $line {
		say $line if $line ~~ $first ff $line ~~ $last;
		}
	}
</pre>

Now I see that it turns off at &quot;dog&quot; but turns on again at &quot;fox&quot;:

<pre class="brush:perl">
cat
catabaptist
catabases
...
doffer
doftberry
dog
fox
foxbane
foxberry
...
houghmagandy
Houghton
hounce
</pre>

If you&#39;re used to the sed version of flip-flopping, there&#39;s also <code><a href="https://docs.perl6.org/language/operators#infix_fff">fff</a></code>. This one doesn&#39;t evaluate both sides for the same element.



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/12/14/quick-tip-29-flip-flopping-junctions/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/12/13/quick-tip-28-perl-6s-schwartzian-transform/">Quick Tip #28: Perl 6's Schwartzian Transform</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">December 13, 2016</span>
</div>

		<div class="excerpt">





This is a really <a href="https://www.learningperl6.com/category/kickstarter-tips/">Quick Tip</a>. It&#39;s about the Schwartzian Transform, which makes things quicker. <!--more-->

You may have seen my presentation from the <a href="http://act.yapc.eu/alpineperl2016/">Alpine Perl Workshop 2016</a>. I talked abou the <a href="http://www.slideshare.net/brian_d_foy/the-surprisingly-tense-history-of-the-schwartzian-transform">surprisingly tense history of the Schwartzian Transform</a>. I also <a href="http://perltricks.com/article/the-history-of-the-schwartzian-transform/">wrote about it for PerlTricks</a>.

In short, Randal didn&#39;t invent it but he made it popular. The popularity wasn&#39;t immediate though.

In Perl 5 that looks like this map-sort-map:

<pre class="brush:plain">
print
  map { $_-&gt;[0] }
  sort { $a-&gt;[1] <=> $b-&gt;[1] }
  map { [$_, lc] }
  &lt;&gt;;
</=></pre>

The trick is to reduce the number of time you call <code>lc</code>. There&#39;s no need to call it over and over on the same string.

How would you do the same thing in Perl 6?

First, Perl 6 has a unary version of <code><a href="https://docs.perl6.org/routine/sort#(Any)_method_sort">sort</a></code>. I tell it how to make a value then it does that for each pair of elements to compare:

<pre class="brush:plain">
my @sorted_words = sort { .lc }, @words;
</pre>

It takes two elements from the list, lowercases both of them, and compares them with string equality (cmp). You don&#39;t have to type out the <code>.lc</code> twice. This doesn&#39;t transform the elements, so the output list isn&#39;t necessarily all lowercase. It&#39;s the original list but possibly re-ordered.

Not only that, sort caches the result of the operation so it doesn&#39;t have to redo it. That is, Perl 6 already does what the Schwartzian Transform was doing!



		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/12/13/quick-tip-28-perl-6s-schwartzian-transform/">Read more...</a></span>
</div> <!-- post -->



    <!-- ----------------------------------------------------------- -->
	<div class="post">
		<h2 class="post_title excerpt_page"><a href="/2016/12/12/quick-tip-27/">Quick Tip #27: Read the docs locally</a></h2>
		<div class="byline">
		<span class="author">brian</span> • <span class="date">December 12, 2016</span>
</div>

		<div class="excerpt">





The <code>p6doc</code> command helps you read the Perl 6 docs. It&#39;s in the <a href="https://github.com/perl6/doc">Perl 6 documentation repo</a> (so, it doesn&#39;t come with Rakudo). <!--more-->


Check out the <a href="https://github.com/perl6/doc">repo</a> and from within that directory install it with zef:

<pre class="brush:perl">
$ zef --depsonly install . 
</pre>

From there you should have to <code>p6doc</code> command. Run it to see what it can do:

<pre class="brush:plain">
What documentation do you want to read?
Examples: p6doc Str
          p6doc Str.split
          p6doc faq

You can list some top level documents:
          p6doc -l

You can also look up specific method/routine definitions:
          p6doc -f push

You can bypass the pager and print straight to stdout:
          p6doc -n Str
</pre>

Now, a word of caution here. Perl 6 has lots of undocumented bits and not everything works yet. But, you can help by sending pull requests. The <code>-l</code> lists the top-level pages it knows about:

<pre class="brush:plain">
$ p6doc -l
5to6-nutshell
5to6-perlfunc
5to6-perlop
5to6-perlsyn
5to6-perlvar
AST
Any
Array
Associative
Attribute
Backtrace
Bag
...
unicode_entry
unicode_texas
variables
</pre>

I can read the docs from the command line:

<pre class="brush:plain">
$ p6doc Str
TITLE
class Str

SUBTITLE
String of characters

    class Str is Cool does Stringy { }

Built-in class for strings. Objects of type Str are immutable.

Methods

  routine chop

    multi sub    chop(Str:D)  returns Str:D
    multi method chop(Str:D: $chars = 1) returns Str:D

Returns the string with $chars characters removed from the end.

  routine chomp

Defined as:

    multi sub    chomp(Str:D ) returns Str:D
    multi method chomp(Str:D:) returns Str:D
</pre>


But, this is 2016. Let&#39;s read it in the browser. First, from the directory, create the HTML files. This might take awhile (a long, long time), but you can read the same docs on <a href="http://docs.perl6.org">docs.perl6.org</a>:

<pre class="brush:plain">
$ make html
</pre>


Then, run the web app to serve it all. That&#39;s a <a href="http://www.mojolicious.org">Mojolicious</a> app, so you&#39;re throwing Perl 5 a bone.

<pre class="brush:plain">
$ make run
Starting local server…
perl5.24.0 app.pl daemon
[Tue Dec  6 11:18:29 2016] [debug] Install Mojolicious::Plugin::AssetPack to enable SASS processor. You will also need CSS::Sass module or have `sass` command working
[Tue Dec  6 11:18:29 2016] [info] Listening at &quot;http://*:3000&quot;
Server available at http://127.0.0.1:3000
</pre>

And this is what you get:

<div class="image center">
<div>
<img height="571" src="/images/local_perl6_docs.png" width="500">
</div>
</div>




		</div> <!-- excerpt -->

		<span class="read_more"><a href="/2016/12/12/quick-tip-27/">Read more...</a></span>
</div> <!-- post -->




<!-- start paginate -->
<div id="pagination">

<a class="pag_link" href="index.html">1</a>
<a class="pag_link" href="index_2.html">2</a>
<a class="pag_link" href="index_3.html">3</a>
<a class="pag_link" href="index_4.html">4</a>
<a class="pag_link" href="index_5.html">5</a>
<a class="pag_link" href="index_6.html">6</a>
<a class="pag_link" href="index_7.html">7</a>
<a class="pag_link" href="index_8.html">8</a>
<a class="pag_link" href="index_9.html">9</a>
<a class="pag_link pag_current" href="index_10.html">10</a>
<a class="pag_link" href="index_11.html">11</a>
<a class="pag_link" href="index_12.html">12</a>
<a class="pag_link" href="index_13.html">13</a>
<a class="pag_link" href="index_14.html">14</a>
<a class="pag_link" href="index_15.html">15</a>
<a class="pag_link" href="index_16.html">16</a>
<a class="pag_link" href="index_17.html">17</a>
<a class="pag_link" href="index_18.html">18</a>

</div>
<!-- end paginate -->

</div>
<!-- end excerpt_list -->

</div>
<!-- end middle_main_page -->

</html>

